

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="hjybdrs">
  <meta name="keywords" content="">
  <title>Videojitterbuffer - 豆三呈祥</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      
        
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/prism/1.21.0/themes/prism.min.css" />
      
    
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_pf9vaxs7x7b.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Fluid</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-09-08 22:53" pubdate>
        September 8, 2020 pm
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      1.3k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      14
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">Videojitterbuffer</h1>
            
            <div class="markdown-body" id="post-body">
              <h1 id="JitterBuffer"><a href="#JitterBuffer" class="headerlink" title="JitterBuffer"></a>JitterBuffer</h1><p>based on:m74(commit cc1b32545db7823b85f5a83a92ed5f85970492c9)</p>
<h2 id="RtpVideoStreamReceiver"><a href="#RtpVideoStreamReceiver" class="headerlink" title="RtpVideoStreamReceiver"></a>RtpVideoStreamReceiver</h2><img  src=http://www.plantuml.com/plantuml/svg/hLXBZzj47B_xKupsj8tOIuMu15LgqmSHWbJPbgiriIUBQUmOUpRigbG2sg85qbKFfQ9KhNWKRI-4xQK2MlWqTNPxuYimdXaxy_YFtI9oI9oPt__zcF_OIt5m1MyHjFO96MKqMFEkUeXzy2Yd6Gue2YOupz5P4an34lPZ1ktXoMJ4g910bf_PD0ebPlr45nqV_7pqm-V5OhxSkrtStZ_w_aPn_-7nuNMEl-P10Zw8GZ8L738dOtrvIBQYd99CRFUcSJeXjDPk7LAvWuAHP2FL4DBVEVdMcmxXlOnWMWjtKVMPS9FoVz4FTFp6njGKBj2g7HiRdvxIt6eYkCuSfIowWxCP9LVw2RDdZ0FoDbywd-6Od3Bj7YHytN2PmV9SqfvGWqH5DVDxdz5laWG8OBbQxZRJlqjskTP3yl4soIdCIcvMs6QEWwGAEGUxZTHWpJmtTvC0ZoQ4CMb0bQ8sAQRvO9IJR6RRCKY6b5vEGpknBHjEvpc9cSImnGWTPt2jUyn74MK9DDeUZqcsfZ2HQTPxxr8KHybMPPx2OeNY0ivm5Wg7ybFJTz0iY2b_zBjkJXUPMeI2h5o6bmNQHSn1ssnX5mrfAcg3iYuH3qb0efaiDCq__OG5WWfvQX-h0UUZH0ZArMr5OsSaobwW6WAwQqZO3aa2KihXnhgz0jja-4TpNQhyyNNZGEbZ_cCWMuAdvMvQUnAzUBOVadXx1ottVrdUURhyzd1vQm5I2KF2YtXtCiNXMKonfCzeMinl5a--UFdW9tPo5Sy_4rpOek8bTv7K-cWT4ggvLCy0xJ0PqXsfed2yGWyBwA2OX17sSxROHSNYuSjxDr_y_dLn-6JvtMyjYVbwdfHwEXA3do2kz9I4XccS1BQgLPA3pBEoiYoC1ZU0cUccGKA26Z6MiHT8Gh8eUEMvHPjoGl7hQycW8KfrB2c62d90Q6pFgydiGtRIo-ditcCnb1LxXyjV7nMFRlppV5vyUOlzLSolD5b-TN3yurpwBAc6YKfdXnOyNj00unasz1WYA2lo3CwLmh5Cxw0BXChdTIxh3PTmPP8ovx5pE-mhmPEAqGe621JZt-aax2SHNL4KU_UBPtyMVpmjzXuK1zyKyxkrLvtCK4ep7mww1PMHrnpJukl_Gb06kguABIZgZf9EBLtQYcKfE2YVD0oea7IDM2rFMNYQbahLOpHZPoo9q3DBHaWqGo2VMTuVtNbylFZxwA-5AVcrBXzcCgdrswbA_4HBYMjX0FteXCc1gQNPwK1bWW9sZQI0hWEMoys6moLScefM0VXE7CKo3LPD61WTrGk85i6hUbEjStMc_lExhwYNVSFfe8XTFdX-SvP-piNxrb6hYXSgglht9HF5WfMNDOkKvD0j5HSvo-SANZaXtPo59o5zzCi4h75rbmHENQ1ZM2CCiAkwtouoTd_9j55P7Vl7gsSbmew3EmEN_QuZVv0pWu3GpAmblHdAife5LgU4l1pPQy1mO0TRzwixZHhWxWwWeDGGDE6SunjCuZaIn9brZNZenK8pnUhLGJCEV4NGJE9u1z1CL5tocr7M9T-xvlqB>

<h2 id="VideoReceiver"><a href="#VideoReceiver" class="headerlink" title="VideoReceiver"></a>VideoReceiver</h2><h2 id="VideoStreamDecoder"><a href="#VideoStreamDecoder" class="headerlink" title="VideoStreamDecoder"></a>VideoStreamDecoder</h2><h2 id="VCTiming"><a href="#VCTiming" class="headerlink" title="VCTiming"></a>VCTiming</h2><h2 id="PacketBuffer"><a href="#PacketBuffer" class="headerlink" title="PacketBuffer"></a>PacketBuffer</h2><p>作用： 包缓存，返回数据帧(如何定义帧？)到RtpVideoStreamReceiver</p>
<blockquote class="pullquote mindmap mindmap-md"><ul>
<li>[PacketBuffer]<ul>
<li>size(512-2048个pkt)</li>
<li>buffer<ul>
<li>sequence_buffer 保存pkt信息</li>
<li>data_buffer 保存真实pkt</li>
</ul>
</li>
<li>InsertPacket() 插入数据包</li>
<li>UpdateMissingPackets() 更新丢失pkt，用于检测P帧前的gap</li>
<li>FindFrames() 查找可用帧，并回调</li>
<li>PotentialNewFrame() 查找潜在连续帧</li>
<li>PaddingReceived() 更新padding</li>
</ul>
</li>
</ul>
</blockquote>

<pre><code class="c++">void FindFrames(uint16_t seq) {
    for(最多找一圈，并且序列号是连续) {
        if(currentPacket == frame_end) {
            while(1) {
            }
            if(is_264) {
                // 如果不是关键帧，当前帧前面有丢失的数据包
                // 重置data_buffer 相关数据包的状态
                if(!iskeyframe &amp;&amp; gap()){
                    reset_databuffer_status();
                }
            }
            missing.erase();
            found_frames.insert();
        }
    }
}</code></pre>
<p>可以考虑的两个点：</p>
<ul>
<li>nackCount</li>
<li>max(min)recvtime</li>
</ul>
<h2 id="RtpFrameReferenceFinder"><a href="#RtpFrameReferenceFinder" class="headerlink" title="RtpFrameReferenceFinder"></a>RtpFrameReferenceFinder</h2><p>作用：找到每一个帧的参考帧，关键帧是自参考，后续的GOP内的每一帧都参考上一帧，GOP 内有序。</p>
<blockquote class="pullquote mindmap mindmap-md"><ul>
<li>[RtpFrameReferenceFinder]<ul>
<li>ManageFrame()<ul>
<li>ManageFrameInternal()</li>
<li>ManageFramePidOrSeqNum()</li>
</ul>
</li>
<li>PaddingReceived()</li>
<li>UpdateLastPictureIdWithPadding()</li>
<li>RetryStashedFrames()</li>
<li>ClearTo()</li>
</ul>
</li>
</ul>
</blockquote>

<pre><code class="c++">// 在调用这个前插入了一个picture_id 针对h264 是否存在？
void ManageFramePidOrSeqNum() {
    // map&lt;last_seq, pair&lt;seq, seq&gt;&gt; last_seq_num_gop_
    // 1. 如果是关键帧，则插入关键帧 到last_seq_num_gop_
    // 2. 如果last_seq_num_gop_ 为空，则缓存这个帧，表明当前并没有关键帧存在
    // 3. 删除较老的关键帧信息(当前seq-100)，至少保存一个关键帧序列号
    // 4. 如果当前帧所依赖的关键帧已经不存在了，直接丢弃。并找到当前帧所依赖的关键帧的序列号
    // 5. 如果是P帧的话，判断帧第一个包序列号是否和对应关键帧的最后一个序列号(会随着帧连续不断修改)相等，否则返回缓存。不相等说明中间有gap
    // 6. 更新当前插入帧的VideoFrameLayer中的pic_id 为最后一个包seq，更新是否需要依赖，并且依赖的帧的信息
    // 7. 更新当前帧所依赖关键帧序列号，作为下一帧的依赖，和1 相互呼应(在此已经保证是连续的了，5已说明)
    // 8. UpdateLastPictureIdWithPadding()
    // 9. 更新最后一个序列号考虑padding 场景
}

void UpdateLastPictureIdWithPadding(seq) {
    // 1.如果当前序列号比关键帧序列号还老，返回
    // 2.获取当前seq 所依赖的关键帧信息
    // 3.如果有因padding 包存在可以使得序列号连续的，更新包的序列号
    // 4.极端情况下，清除关键帧信息和状态
}

void RetryStashedFrames() {
    // 有两种情况可以尝试从stashed 中查找
    // a. 缓存帧遍历查找
    // b. 因padding 包的存在，可以使得序列号连续
    // 1. 从缓存帧处遍历，查看是否能找到连续的帧
}</code></pre>
<h2 id="FrameBuffer"><a href="#FrameBuffer" class="headerlink" title="FrameBuffer"></a>FrameBuffer</h2><p>作用：GOP间 内有序。</p>
<blockquote class="pullquote mindmap mindmap-md"><ul>
<li>[FrameBuffer]<ul>
<li>ValidReferences() 判断帧之间的参考是否正确</li>
<li>UpdateFrameInfoWithIncomingFrame() 更新frameinfo 和其他frame的info<ul>
<li>遍历当前帧的依赖帧<ul>
<li>如果上一次解码的帧比依赖帧更新，依赖帧永远不会被解码 rt=&gt;false</li>
<li>在frames 中查找依赖帧，并判断依赖帧是否连续</li>
</ul>
</li>
<li>inter_layer_predicted only vp9 support</li>
<li>未连续参考帧和未解码参考帧计数器</li>
<li>判断依赖帧是否连续，并且更新依赖帧被哪些帧所依赖(反向依赖关系)</li>
</ul>
</li>
<li>PropagateContinuity()<ul>
<li>通过BFS来进行连续性的传播，还有个依赖的就是上一层建立的反向依赖关系</li>
</ul>
</li>
<li>Public<ul>
<li>Start() 随着videoreceivestream start</li>
<li>Stop() 随着stop</li>
<li>SetProtectionMode()</li>
<li>Clear()</li>
<li>InsertFrame() 插入数据帧</li>
<li>UpdateRtt() 根据rtt 调整jitterEsmitor 策略</li>
<li>NextFrame() 弹出数据帧<ul>
<li>keyframe-&gt;200ms deltaframe-&gt;3000ms</li>
<li>遍历缓存帧<ul>
<li>没有连续或者还有依赖的未解码帧</li>
<li>当前帧并不为目前所需要的关键帧</li>
<li>获取上一次解码帧的rtp tmp 比较筛选出跳帧的情况</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</blockquote>

<pre><code class="c++">bool ValidReferences() {
    // 1. 判断pic_id，pic_id 就是当前帧最后一个包的seq
    // 2. 判断pic_id 和依赖的seq是否符合规定
      // a. 如果依赖的seq 比当前帧的seq 还大，不符合
      // b. 如果连续依赖的seq 之间相等，不符合
    // 3. 应该是判断时域分层内容
}

int InsertFrame() {
    // 1. 统计回调
    // 2. 最近连续帧seq(当前帧的最后一个seq)
    // 3. ValidReferences()帧有效性判断
    // 4. 如果当前帧数超过最大容量
       // a. 如果当前关键帧，清空队列，继续
       // b. 非关键帧，直接返回最近连续帧seq 直接丢弃会不会有问题？
    // 5. 获取最近解码帧seq 和解码时间戳,如果当前帧seq 比最近解码帧seq 小
       // a. 如果是关键帧，并且当前帧的时间更新，清空队列，继续
       // b. 其他情况，直接返回最近连续帧seq 直接丢弃会不会有问题？
    // 6. 出现跳帧情况，比第一个小，比最后一个大的情况出现，清空，继续
    // 7. 尝试插入，如果之前存在，直接返回最近解码帧的seq
    // 8. UpdateFrameInfoWithIncomingFrame()
    // 9. 判断当前帧是否因为重传导致了延时，nack_count &gt; 0 更新timing
    // 10.如果当前帧的参考帧都到齐了
       // a. PropagateContinuity()
       // b. 计算最大限度可解码帧seq 
    // 11. 唤醒解码线程，并返回最大限度可解码帧seq

}</code></pre>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css">
            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/webrtc/">webrtc</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/webrtc/">webrtc</a>
                    
                      <a class="hover-with-bg" href="/tags/jitterbuffer/">jitterbuffer</a>
                    
                      <a class="hover-with-bg" href="/tags/pakcetbuffer/">pakcetbuffer</a>
                    
                      <a class="hover-with-bg" href="/tags/referencefinder/">referencefinder</a>
                    
                      <a class="hover-with-bg" href="/tags/framebuffer/">framebuffer</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/09/10/WebrtcStats/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">WebrtcStats</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/09/04/ProjectCompile/">
                        <span class="hidden-mobile">ProjectCompile</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                
  <div class="disqus" style="width:100%">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
      var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2020/09/08/videojitterbuffer/';
        this.page.identifier = '/2020/09/08/videojitterbuffer/';
      };
      function loadDisqus() {
        (function () {
          var d = document,
            s = d.createElement('script');
          s.src = '//' + 'fluid' + '.disqus.com/embed.js';
          s.setAttribute('data-timestamp', new Date());
          (d.head || d.body).appendChild(s);
        })();
      }
      waitElementVisible('disqus_thread', loadDisqus);
    </script>
    <noscript>Please enable JavaScript to view the
      <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noopener">comments powered by Disqus.</a>
    </noscript>
  </div>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  
    
      <script  src="https://cdn.staticfile.org/prism/1.21.0/components/prism-core.min.js" ></script>
      <script  src="https://cdn.staticfile.org/prism/1.21.0/plugins/autoloader/prism-autoloader.min.js" ></script>
      
    
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Videojitterbuffer&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
